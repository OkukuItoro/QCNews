<%- include("partials/header"); %>

<div class="app-container">
  <%- include("partials/categories"); %>

  <div class="news-content respond-vw">
    <h2 class="news-content__title"><%- topic %></h2>
    <div class="news-content__category-container">
      <% const newsCards = categoryNews %>

      <!-- prettier-ignore -->
      <% newsCards.forEach((card, index) => { %>
      <div class="news-content__tile">
        <div class="news-content__tile--text">
          <h4 class="news-content__tile--text-heading">
            <a class="news-content__tile--text-link" href="<%- card.url %>">
              <%- card.name %>
            </a>
          </h4>
          <p class="news-content__tile--text-description">
            <%- card.description + "..." %><a
              class="news-content__tile--text-link-2"
              href="<%- card.url %>"
              >read more</a
            >
          </p>
          <!-- <div class="category-img-container"></div> -->
        </div>

        <div class="news-content__tile--provider">
          <!-- prettier-ignore -->
          <% if (topic === "Health" || topic === "Products" || topic === "Science and Technology" || 
            topic === "Africa" || topic === "Asia" || topic === "MiddleEast") { %>
          <p class="news-content__tile--provider-name">
            <%- card.provider[0].name %>
          </p>
          <% } else { %> <img class="news-content__tile--provider-image"
          src="<%- card.provider[0].image.thumbnail.contentUrl + "&p=0" %> " />
          <p class="news-content__tile--provider-name">
            <%- card.provider[0].name %>
          </p>
          <% } %>
          <p class="news-content__tile--provider-date"><%- card.date %></p>
        </div>
      </div>
      <% }) %>
    </div>
  </div>
</div>

<script src="/js/script.js"></script>

<%- include("partials/footer"); %>
